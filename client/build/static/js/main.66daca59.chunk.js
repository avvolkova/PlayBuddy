(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a,c,r,s=n(0),i=n.n(s),o=n(23),l=n.n(o),d=n(12),u=n(7),j=n(14),b=n(3),m=n.n(b),p=n(9),h=n(26),f=n(31),x=Object(h.b)(a||(a=Object(f.a)(["\n\nhtml, body {\n    margin: 0;\n    padding: 0;\n  }\n  *, *::after, *::before {\n    box-sizing: border-box;\n  }\n  body {\n    align-items: center;\n    // background: ",";\n\n    color: ",";\n    display: flex;\n    height: 100vh;\n    justify-content: center;\n    text-rendering: optimizeLegibility;\n  }\n  "])),(function(e){return e.theme.primaryDark}),(function(e){return e.theme.primaryLight})),O={primaryDark:"#0D0C1D",primaryLight:"#EFFFFA",primaryHover:"#343078",mobile:"576px"},v=h.c.button(c||(c=Object(f.a)(["\n  position: absolute;\n  top: 5%;\n  left: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background: ",";\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ",";\n    }\n\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){var t=e.theme;return e.open?t.primaryDark:t.primaryLight}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),g=n(1),_=function(e){var t=e.open,n=e.setOpen;return Object(g.jsxs)(v,{open:t,onClick:function(){return n(!t)},children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})},y=h.c.nav(r||(r=Object(f.a)(["\n  display: flex;\n  font-family: 'BalsamiqSans-Bold';\n  flex-direction: column;\n  justify-content: center;\n  background: ",";\n  height: 100vh;\n  text-align: left;\n  padding: 2rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transition: transform 0.3s ease-in-out;\n  transform: ",";\n  @media (max-width: ",") {\n    width: 100%;\n  }\n\n  a {\n    font-size: 1.5rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: ",";\n    text-decoration: none;\n    transition: color 0.3s linear;\n    \n    @media (max-width: ",") {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.primaryLight}),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}),(function(e){return e.theme.mobile}),(function(e){return e.theme.primaryDark}),(function(e){return e.theme.mobile}),(function(e){return e.theme.primaryHover})),N=n(5),k="GET_USER",w="LOGOUT_USER",C="UPDATE_USER_DATA",E="GET_DB_USER_CHATS",S="SET_NEW_CHAT",T="OUT_USER_CHATS",G="ADD_MESSAGE",I="GET_DB_USER_EVENTS",P="SET_NEW_EVENT",B="OUT_USER_EVENTS",D=function(e){return{type:k,payload:e}},F=function(e,t,n){return function(){var a=Object(p.a)(m.a.mark((function a(c){var r,s,i,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/user/signin",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(e),redirect:"follow",mode:"cors"});case 2:return r=a.sent,a.next=5,r.json();case 5:if(s=a.sent,!r.redirected){a.next=16;break}return a.next=9,fetch(r.url);case 9:return i=a.sent,a.next=12,i.json();case 12:o=a.sent,n(o.message),a.next=17;break;case 16:200===s.status&&(c(D(s.user)),t.push("/"));case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},R=function(e,t,n){return function(){var a=Object(p.a)(m.a.mark((function a(c){var r,s,i,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/user/signup",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(e),mode:"cors"});case 2:return r=a.sent,a.next=5,r.json();case 5:if(s=a.sent,!r.redirected){a.next=16;break}return a.next=9,fetch(r.url);case 9:return i=a.sent,a.next=12,i.json();case 12:o=a.sent,n(o.message),a.next=17;break;case 16:200===s.status&&(c(D(s.user)),t.push("/"));case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},M=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/in-session",{method:"GET",credentials:"include",headers:{"Content-type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:(a=e.sent).user&&(t(D(a.user)),t((r=a.userEvents,{type:I,payload:r})),t((c=a.userChats,{type:E,payload:c})));case 7:case"end":return e.stop()}var c,r}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/user/logout",{method:"GET",credentials:"include",headers:{"Content-type":"application/json"},mode:"cors"});case 2:200===t.sent.status&&(n({type:w,payload:{}}),n({type:B}),n({type:T}),e.push("/"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){var t=e.open,n=Object(N.b)(),a=Object(u.f)(),c=Object(N.c)((function(e){return e.user.name})),r=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(A(a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(y,{open:t,children:[Object(g.jsxs)(d.b,{to:"/",children:[Object(g.jsx)("span",{role:"img","aria-label":"ABBA",children:Object(g.jsx)("img",{src:"https://img.icons8.com/bubbles/50/000000/confetti.png"})}),"PLAY BUDDY"]}),Object(g.jsxs)(d.b,{to:"/map",children:[Object(g.jsx)("span",{role:"img","aria-label":"\u041a\u0430\u0440\u0442\u0430 \u0418\u0433\u0440",children:Object(g.jsx)("img",{src:"https://img.icons8.com/doodle/48/000000/dice.png"})}),"\u041a\u0430\u0440\u0442\u0430 \u0418\u0433\u0440"]}),c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(d.b,{to:"/profile",children:[Object(g.jsx)("span",{role:"img","aria-label":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:Object(g.jsx)("img",{src:"https://img.icons8.com/doodle/48/000000/3-of-hearts.png"})}),"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]}),Object(g.jsxs)(d.b,{to:"/",onClick:r,children:[Object(g.jsxs)("span",{role:"img","aria-label":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:[Object(g.jsx)("img",{src:"exit.png"})," "]}),"\u0412\u044b\u0439\u0442\u0438"]})]}):Object(g.jsxs)(d.b,{to:"/signin",children:[Object(g.jsx)("span",{role:"img","aria-label":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",children:Object(g.jsx)("img",{src:"https://img.icons8.com/doodle/48/000000/3-of-hearts.png"})}),"\u0412\u043e\u0439\u0442\u0438"]})]})},U=function(e,t){Object(s.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t])},J="GET_EVENTS",z="GET_CURRENT_EVENT",H="GET_TAGS",W="GET_GAMES",V="UPDATE_EVENT",X="FILTER_EVENTS";function q(e,t){var n=e.title,a=e.address,c=e.category,r=e.game,s=e.description,i=e.max_participants,o=e.coordinates,l=e.thumbnail,d=e.time;return function(){var e=Object(p.a)(m.a.mark((function e(u){var j,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,address:a,category:c,game:r,description:s,max_participants:i,coordinates:o,thumbnail:l,time:d}),mode:"cors"});case 2:return j=e.sent,e.next=5,j.json();case 5:b=e.sent,u((p=b[0],{type:S,payload:p})),u((m=b[1],{type:P,payload:m})),t.push("/event-page/".concat(b[1]._id));case 9:case"end":return e.stop()}var m,p}),e)})));return function(t){return e.apply(this,arguments)}}()}var Q=n(64),K=n.n(Q);n(96);var Y=function(){var e=Object(N.b)();Object(s.useEffect)((function(){Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(M());case 2:return t.next=4,e(function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/tags",{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:200===(a=e.sent).status&&t((c=a.tags,{type:H,payload:c}));case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/games/",{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:200===(a=e.sent).status&&t((c=a.games,{type:W,payload:c}));case 7:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})))()}),[]);var t=Object(s.useState)(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],r=Object(s.useRef)();return U(r,(function(){return c(!1)})),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(h.a,{theme:O,children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x,{}),Object(g.jsxs)("div",{className:"main-wrapper",children:[Object(g.jsx)("h1",{className:K.a.appName,children:"Play Buddy"}),Object(g.jsxs)("div",{className:"dice logo pb-3",children:[Object(g.jsx)("div",{className:"face",id:"f1",children:"\u0418\u0433\u0440\u0430\u0439"}),Object(g.jsx)("div",{className:"face",id:"f2",children:"\u0414\u0440\u0443\u0436\u0438"}),Object(g.jsx)("div",{className:"face",id:"f3",children:"\u0421\u043e\u0431\u0438\u0440\u0430\u0439"}),Object(g.jsx)("div",{className:"face",id:"f4",children:"\u0422\u0443\u0441\u0438"}),Object(g.jsx)("div",{className:"face",id:"f5",children:"\u0422\u0430\u0449\u0438"}),Object(g.jsx)("div",{className:"face",id:"f6",children:"\u0421\u043c\u0435\u0439\u0441\u044f"})]}),Object(g.jsx)("h4",{className:"say text-b",children:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0431\u043b\u0438\u0437\u043a\u0438\u0445 \u043f\u043e \u0434\u0443\u0445\u0443 \u043b\u044e\u0434\u0435\u0439!"})]}),Object(g.jsxs)("div",{ref:r,children:[Object(g.jsx)(_,{open:a,setOpen:c}),Object(g.jsx)(L,{open:a,setOpen:c})]})]})})})},Z=n(21),$=n(6),ee=n(50),te=n.n(ee),ne=function(){var e=Object(s.useState)(new Date("2021-02-13")),t=Object(j.a)(e,2),n=t[0],a=(t[1],Object(s.useState)({title:"",address:"",category:"",game:"",description:"",max_participants:1,coordinates:"",thumbnail:"",time:n})),c=Object(j.a)(a,2),r=c[0],i=c[1],o=Object(u.f)(),l=Object(N.b)(),d=Object(N.c)((function(e){return e.events})),b=d.tags,h=d.games,f=Object(s.useState)(h),x=Object(j.a)(f,2),O=x[0],v=x[1],_=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,c,r,s,o,l,d,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("address"!==t.target.name){e.next=12;break}return n=t.target.value,e.next=4,fetch("https://geocode-maps.yandex.ru/1.x/?apikey=51ad9d93-9100-4ffa-8ebf-138a17d2a225&format=json&geocode=".concat(n));case 4:return l=e.sent,e.next=7,l.json();case 7:d=e.sent,u=null===d||void 0===d||null===(a=d.response)||void 0===a||null===(c=a.GeoObjectCollection)||void 0===c||null===(r=c.featureMember[0])||void 0===r||null===(s=r.GeoObject)||void 0===s||null===(o=s.Point)||void 0===o?void 0:o.pos,i((function(e){return Object($.a)(Object($.a)({},e),{},Object(Z.a)({coordinates:u},t.target.name,t.target.value))})),e.next=13;break;case 12:"game"===t.target.name?i((function(e){var n,a;return a=h&&(null===(n=h.find((function(e){return e._id===t.target.value})))||void 0===n?void 0:n.thumbnail),Object($.a)(Object($.a)({},e),{},Object(Z.a)({thumbnail:a},t.target.name,t.target.value))})):i((function(e){return Object($.a)(Object($.a)({},e),{},Object(Z.a)({},t.target.name,t.target.value))}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l(q(r,o));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:te.a.formBg,children:Object(g.jsx)("div",{className:te.a.centering,children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("h1",{className:"mb-4",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(g.jsxs)("form",{onSubmit:y,children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"event",className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(g.jsx)("input",{onChange:_,name:"title",type:"text",className:"form-control",id:"event","aria-describedby":"emailHelp",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"address",className:"form-label",children:"\u0410\u0434\u0440\u0435\u0441"}),Object(g.jsx)("input",{onChange:_,name:"address",type:"text",className:"form-control",id:"address",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441"})]}),Object(g.jsxs)("select",{onChange:function(e){_(e),v((function(t){return h.filter((function(t){return t.tags.includes(e.target.value)}))}))},name:"category",className:"mb-3 form-select",children:[Object(g.jsx)("option",{selected:!0,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0438\u0433\u0440\u044b"}),b&&b.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.title},b._id)}))]}),Object(g.jsxs)("select",{onChange:_,name:"game",className:"mb-3 form-select",children:[Object(g.jsx)("option",{selected:!0,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0433\u0440\u044b"}),O&&O.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.title},e._id)}))]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"desc",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(g.jsx)("textarea",{onChange:_,name:"description",className:"form-control",id:"desc",placeholder:"\u0412\u043e \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u043c \u0438\u0433\u0440\u0430\u0442\u044c? \u041a\u043e\u0433\u043e \u0433\u043e\u0442\u043e\u0432 \u043f\u043e\u0437\u0432\u0430\u0442\u044c? \u041d\u0443\u0436\u043d\u043e \u043b\u0438 \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430?"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{htmlFor:"amount",className:"form-label",children:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}),Object(g.jsx)("input",{onChange:_,name:"max_participants",type:"number",className:"form-control",id:"amount",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442 2 \u0438 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043b\u043e\u0432\u0435\u043a"})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"200px",marginBottom:"25px"},children:"\u0418\u0434\u0451\u043c \u0438\u0433\u0440\u0430\u0442\u044c!"})]})]})})})},ae=n(25),ce=n(35),re=(n(55),function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event",{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:(a=e.sent)&&t({type:J,payload:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),se=function(e){var t=e.userId,n=e.eventId;return function(){var e=Object(p.a)(m.a.mark((function e(a){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,eventId:n}),mode:"cors"});case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,a({type:V,payload:r.event}),a({type:P,payload:r.event}),a({type:S,payload:r.chat});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ie=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/close/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});case 2:return a=e.sent,e.next=5,a.json();case 5:200===e.sent.status&&n.push("/map");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(m.a.mark((function e(t,n,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/kick-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,eventId:n}),mode:"cors"});case 2:return c=e.sent,e.next=5,c.json();case 5:200===e.sent.status&&a.push("/event-page/".concat(n));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(m.a.mark((function e(t,n,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/kick-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,eventId:n}),mode:"cors"});case 2:return c=e.sent,e.next=5,c.json();case 5:200===e.sent.status&&a.push("/map");case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),de=(n(97),function(e){var t=e.sortByCheckbox;return Object(g.jsxs)("div",{className:"checkbox-wrapper",children:[Object(g.jsx)("h3",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"one","data-id":"602169c62667f6c388999be9",onChange:t}),Object(g.jsx)("label",{htmlFor:"one",className:"form-check-label",children:"\u041a\u043b\u0430\u0441\u0441\u0438\u043a\u0430"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"two","data-id":"602169c62667f6c388999bea",onChange:t}),Object(g.jsx)("label",{htmlFor:"two",className:"form-check-label",children:"\u041f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0439"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"three","data-id":"602169c62667f6c388999beb",onChange:t}),Object(g.jsx)("label",{htmlFor:"three",className:"form-check-label",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043d\u0430\u044f"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bec",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u041a\u041a\u0418"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bed",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u0421\u043b\u043e\u0432\u0435\u0441\u043d\u0430\u044f"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bee",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u041d\u0430 \u0446\u0435\u043b\u044b\u0439 \u0434\u0435\u043d\u044c"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bef",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u0420\u043e\u043b\u0435\u0432\u0430\u044f"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bf0",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u041d\u0430 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bf1",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u0414\u0435\u0442\u0435\u043a\u0442\u0438\u0432\u043d\u0430\u044f"})]}),Object(g.jsxs)("div",{className:"form-check form-check-inline",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox","data-id":"602169c62667f6c388999bf2",onChange:t}),Object(g.jsx)("label",{className:"form-check-label",children:"\u041c\u0430\u0444\u0438\u044f"})]})]})}),ue=n(17),je=n.n(ue),be=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(N.b)(),r=Object(u.f)(),i=Object(N.c)((function(e){return e})),o=i.user,l=i.events,b=Object(s.useState)(l.event),h=Object(j.a)(b,2),f=h[0],x=h[1],O=Object(N.c)((function(e){return e.currentEvent})),v=Object(N.c)((function(e){return e.events.filterEvent}));Object(s.useEffect)((function(){Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(M());case 2:return e.next=4,c(re());case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(s.useEffect)((function(){n.length&&c({type:X,payload:n})}),[n]),Object(s.useEffect)((function(){n.length&&x(v)}),[v]);var _=function(e){c(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/event/".concat(e),{method:"GET",headers:{"Content-type":"application/json"},mode:"cors"});case 2:return a=t.sent,t.next=5,a.json();case 5:(c=t.sent)&&n({type:z,payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(g.jsx)("div",{className:"bg",children:Object(g.jsxs)("div",{className:"eventMap wrapper",children:[Object(g.jsx)(d.b,{title:"\u0414\u043e\u043c\u043e\u0439",to:"/",children:Object(g.jsx)("img",{src:"home.svg",className:je.a.hamburger})}),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"info",children:o?Object(g.jsx)("div",{className:"current-info",children:O._id?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{children:O.game.title}),Object(g.jsxs)("h5",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f: ",O.description]}),Object(g.jsxs)("span",{className:"address",children:["\u0410\u0434\u0440\u0435\u0441:",O.address]}),Object(g.jsx)("button",{onClick:function(){return e=O._id,void r.push("/event-page/".concat(e));var e},className:"btn btn-info",style:{color:"#41444b",padding:"10px",width:"160px"},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}):Object(g.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"})}):Object(g.jsx)("h1",{children:"\u0414\u0430\u0432\u0430\u0439 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c\u0441\u044f?"})}),Object(g.jsxs)("div",{className:"y-wrapper",children:[Object(g.jsx)(de,{sortByCheckbox:function(e){e.target.value=!e.target.value,e.target.checked?a((function(t){return[].concat(Object(ae.a)(t),[e.target.dataset.id])})):(a((function(t){return t.filter((function(t){return t!==e.target.dataset.id}))})),x(l.event))}}),Object(g.jsx)(ce.d,{query:{ns:"use-load-option",apikey:"51ad9d93-9100-4ffa-8ebf-138a17d2a225"},children:Object(g.jsx)(ce.b,{defaultState:{center:[55.75,37.57],zoom:10,controls:["zoomControl","fullscreenControl"]},modules:["control.ZoomControl","control.FullscreenControl","geocode"],className:"map",instanceRef:function(e){e&&e.behaviors.disable("scrollZoom")},children:Object(g.jsx)(ce.a,{options:{groupByCoordinates:!1},children:f&&f.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(ce.c,{onClick:function(){return _(e._id)},geometry:e.coordinates,options:{iconLayout:"default#image",iconImageHref:"http://0.0.0.0:3001".concat(e.thumbnail),iconImageSize:[40,40]}})},e._id)}))})})})]})]})]})})},me=(n(98),function(){var e=Object(u.f)(),t=Object(s.useState)(""),n=Object(j.a)(t,2),a=n[0],c=n[1],r=Object(N.b)(),i=Object(s.useState)(),o=Object(j.a)(i,2),l=o[0],b=o[1],h=function(e){b((function(t){return Object($.a)(Object($.a)({},t),{},Object(Z.a)({},e.target.name,e.target.value))}))},f=function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r(F(l,e,c));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("form",{className:"d-flex flex-column",children:[Object(g.jsxs)("div",{className:"col-md-4 offset-md-4 mb-3",children:[Object(g.jsx)("label",{htmlFor:"exampleInputEmail12",className:"form-label text-white",children:"\u042d\u043b.\u043f\u043e\u0447\u0442\u0430"}),Object(g.jsx)("input",{onChange:h,name:"email",type:"email",className:"form-control",id:"exampleInputEmail12","aria-describedby":"emailHelp"})]}),Object(g.jsxs)("div",{className:"col-md-4 offset-md-4 mb-3",children:[Object(g.jsx)("label",{htmlFor:"exampleInputPassword13",className:"form-label text-white",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(g.jsx)("input",{onChange:h,name:"password",type:"password",className:"form-control",id:"exampleInputPassword13"})]}),a?Object(g.jsx)("p",{className:"text-error",children:a}):null,Object(g.jsx)("button",{onClick:f,type:"submit",className:"btn btn-primary btn-sm  col-md-2 offset-md-5 mb-2",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(g.jsxs)("a",{href:"http://0.0.0.0:3001/user/google",className:"btn btn-primary btn-sm  google form-text col-md-2 offset-md-5 mb-2",children:["\u0412\u043e\u0439\u0442\u0438 ",Object(g.jsx)("i",{className:"fab fa-google"})]}),Object(g.jsxs)("a",{href:"http://0.0.0.0:3001/user/auth/vkontakte",className:"btn btn-sm btn-primary vk form-text col-md-2 offset-md-5 mb-2",children:["\u0412\u043e\u0439\u0442\u0438 ",Object(g.jsx)("i",{className:"fab fa-vk"})]}),Object(g.jsx)(d.b,{to:"/signup",className:"create form-text col-md-2 offset-md-5 mb-2",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})})})}),pe=(n(99),function(){var e=Object(u.f)(),t=Object(N.b)(),n=Object(s.useState)(""),a=Object(j.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)({name:"",email:"",password:"",confirmPassword:""}),o=Object(j.a)(i,2),l=o[0],d=o[1],b=function(e){d((function(t){return Object($.a)(Object($.a)({},t),{},Object(Z.a)({},e.target.name,e.target.value))}))},h=function(){var n=Object(p.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),t(R(l,e,r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("form",{children:[Object(g.jsxs)("div",{className:"col-md-4 offset-md-4 mb-3",children:[Object(g.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label text-white",children:"\u0418\u043c\u044f"}),Object(g.jsx)("input",{onChange:b,name:"name",type:"text",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(g.jsxs)("div",{className:"col-md-4 offset-md-4 mb-3",children:[Object(g.jsx)("label",{htmlFor:"exampleInputEmail2",className:"form-label text-white",children:"\u042d\u043b.\u043f\u043e\u0447\u0442\u0430"}),Object(g.jsx)("input",{onChange:b,name:"email",type:"email",className:"form-control",id:"exampleInputEmail2","aria-describedby":"emailHelp"})]}),Object(g.jsxs)("div",{className:"col-md-4 offset-md-4 mb-3",children:[Object(g.jsx)("label",{htmlFor:"exampleInputPassword3",className:"form-label text-white",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(g.jsx)("input",{onChange:b,name:"password",type:"password",className:"form-control",id:"exampleInputPassword3"})]}),Object(g.jsxs)("div",{className:"col-md-4 offset-md-4 mb-3",children:[Object(g.jsx)("label",{htmlFor:"exampleInputPassword4",className:"form-label text-white",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(g.jsx)("input",{onChange:b,name:"confirmPassword",type:"password",className:"form-control",id:"exampleInputPassword4"})]}),c?Object(g.jsx)("p",{className:"text-error text-danger",children:c}):null,Object(g.jsx)("button",{onClick:h,type:"submit",className:"btn btn-primary col-md-2 offset-md-5",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})})}),he=n(13),fe=n.n(he),xe=n(138),Oe=n(139),ve=function(){var e=Object(N.c)((function(e){return e})),t=e.user,n=e.userEvents,a=Object(u.f)();return Object(s.useEffect)((function(){!t.id&&a.push("/signin")}),[]),Object(g.jsx)(g.Fragment,{children:n.map((function(e){return Object(g.jsxs)(xe.a,{className:fe.a.myCard,children:[Object(g.jsx)(xe.a.Img,{className:fe.a.img,variant:"top",src:e.thumbnail}),t.id==e.creator&&Object(g.jsxs)("div",{className:fe.a.sticker,children:[Object(g.jsx)("img",{src:"/sticker.png",alt:"sticker",width:"120px",height:"140px"}),Object(g.jsx)("span",{children:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440"})]}),Object(g.jsxs)(xe.a.Body,{className:t.id===e.creator?fe.a.bodyRelative:fe.a.myCardbBody,children:[Object(g.jsx)(xe.a.Title,{className:fe.a.cardTitle,children:Object(g.jsx)(d.b,{to:"/event-page/".concat(e._id),children:e.title})}),Object(g.jsx)(xe.a.Text,{children:Object(g.jsxs)("span",{className:fe.a.eventDetails,children:[Object(g.jsx)("span",{children:"\u0421\u0431, 13.02.2020"}),Object(g.jsx)("span",{style:{overflowY:"scroll",height:"100px"},children:e.address})]})}),Object(g.jsx)(Oe.a,{className:fe.a.btn,onClick:function(){return le(t.id,e._id,a)},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(g.jsx)(d.b,{to:"event-page/".concat(e._id),children:Object(g.jsx)("button",{className:fe.a.btn,children:"\u041e \u0421\u043e\u0431\u044b\u0442\u0438\u0438"})})]})]},e._id)}))})},ge=n(135),_e=function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(d.b,{title:"\u0414\u043e\u043c\u043e\u0439",to:"/",children:Object(g.jsx)("img",{src:"home.svg",className:fe.a.hamburger})}),Object(g.jsx)("h1",{className:fe.a.title,children:"\u041c\u043e\u0438 \u0421\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(g.jsxs)("div",{className:fe.a.flex,children:[Object(g.jsx)(ge.a,{className:fe.a.myGroup,children:Object(g.jsx)(ve,{})}),Object(g.jsx)("hr",{}),Object(g.jsx)(d.b,{to:"/create-event",children:Object(g.jsx)("button",{className:fe.a.btnLarge,type:"button",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"})})]})]})})},ye=function(){var e,t=Object(s.useState)(0),n=Object(j.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),i=Object(j.a)(r,2),o=(i[0],i[1],Object(N.b)());Object(s.useEffect)((function(){o(re())}),[a]);var l=Object(u.f)(),d=Object(N.c)((function(e){return e})),b=d.user,h=d.userEvents,f=d.events,x=Object(u.g)(),O=Object(s.useState)(""),v=Object(j.a)(O,2),_=v[0],y=v[1],k=h.find((function(e){return e._id===x.id})),w=null===f||void 0===f||null===(e=f.event)||void 0===e?void 0:e.find((function(e){return e._id===x.id}));return Object(g.jsx)("div",{className:fe.a.eventBg,children:Object(g.jsxs)("div",{className:fe.a.centering,children:[Object(g.jsxs)("div",{className:fe.a.eventWrapper,children:[Object(g.jsx)("img",{className:fe.a.thumbnailPic,src:w&&w.thumbnail,alt:"game"}),Object(g.jsxs)("div",{className:fe.a.eventMainInfo,children:[Object(g.jsx)("h1",{children:w&&w.title}),Object(g.jsxs)("div",{className:fe.a.eventDetails,children:[Object(g.jsxs)("span",{className:fe.a.textAddress,children:["\u0410\u0434\u0440\u0435\u0441: ",w&&w.address]}),Object(g.jsxs)("span",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432: ",w&&w.participants.length," \u0438\u0437"," ",w&&w.max_participants]})]})]})]}),Object(g.jsxs)("div",{className:"eventBox",children:[Object(g.jsxs)("div",{className:"eventDescription",style:{marginLeft:"10px"},children:[Object(g.jsx)("h3",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f:"}),w&&w.description]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{style:{marginLeft:"10px"},children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f:"}),w&&w.participants.map((function(e){var t;return t="/uploads/avatar.png"===e.avatar?"".concat(e.avatar):"/uploads/".concat(e.avatar),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:fe.a.participant,children:e.name}),Object(g.jsx)("img",{src:t,className:fe.a.ava,alt:"ava",width:"100px"}),k&&b.id===k.creator._id?e._id===b.id?null:Object(g.jsx)(Oe.a,{style:{width:"150px",marginLeft:"1rem",marginTop:3,padding:0},onClick:function(){c((function(e){return e+1})),oe(e._id,k._id,l),o(re())},children:"\u0432\u044b\u0433\u043d\u0430\u0442\u044c"}):null,k&&e._id===k.creator._id?Object(g.jsx)("span",{children:" \xa0 (\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440)"}):null]},e._id)}))]})]}),Object(g.jsx)("br",{}),k&&b.id===k.creator._id?Object(g.jsx)(Oe.a,{onClick:function(){return ie(k._id,l)},style:{width:"260px",backgroundColor:"#0dcaf0"},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"}):b.id?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Oe.a,{onClick:function(){k?(y("notok"),setTimeout((function(){y("")}),3e3)):(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("ok");case 2:return e.next=4,setTimeout((function(){y("")}),3e3);case 4:return e.next=6,o(se({userId:b.id,eventId:x.id}));case 6:case"end":return e.stop()}}),e)})))(),l.push("/chats"))},style:{backgroundColor:"#17a2b8",marginBottom:"20px",marginRight:"10px",width:"230px",fontSize:".7rem"},children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0418\u0433\u0440\u0443!"}),Object(g.jsx)(Oe.a,{style:{backgroundColor:"#17a2b8",marginBottom:"20px",width:"230px",fontSize:".7rem"},onClick:function(){l.push("/map")},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"})]}):Object(g.jsx)(Oe.a,{onClick:function(){l.push("/signin")},style:{width:"250px",backgroundColor:"#0dcaf0",border:0},children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0438\u0433\u0440\u043e\u0442\u0435\u043a\u0443"}),_?"notok"===_?"\u0422\u044b \u0443\u0436\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d :)":"BRAT TI ZAPISAN OT DUSHI":""]})})},Ne=n(20),ke=n.n(Ne);var we=function(){var e=Object(u.g)().id,t=Object(N.c)((function(e){return e.games.favGames})).filter((function(t){return t._id===e}))[0],n=t.tags,a=Object(N.c)((function(e){return e.events.tags})),c=n.map((function(e){return e=a.find((function(t){return t._id===e}))}));return Object(N.b)(),Object(s.useEffect)((function(){}),[]),Object(g.jsx)("div",{className:ke.a.bg,children:Object(g.jsxs)("div",{className:ke.a.centering,children:[Object(g.jsx)("h1",{className:ke.a.gameName,children:t.title}),Object(g.jsxs)("div",{className:ke.a.gameInfo,children:[Object(g.jsxs)("div",{className:ke.a.gameLeft,children:[Object(g.jsx)("div",{className:ke.a.gamePhoto,children:Object(g.jsx)("img",{src:t.img,alt:t.title})}),Object(g.jsx)("div",{className:ke.a.gameLink,children:Object(g.jsx)("a",{href:t.rules,target:"_blank",children:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0443\u0442"})}),Object(g.jsxs)("div",{className:ke.a.gameDetailes,children:[Object(g.jsxs)("div",{children:["\u043e\u0442 ",t.min_players," \u0434\u043e ",t.max_players," \u0438\u0433\u0440\u043e\u043a\u043e\u0432"]}),Object(g.jsxs)("div",{children:["\u043f\u0430\u0440\u0442\u0438\u044f \u043e\u0442 ",t.min_playtime," \u043c\u0438\u043d\u0443\u0442"]})]})]}),Object(g.jsxs)("div",{className:ke.a.gameRight,children:[Object(g.jsx)("div",{className:ke.a.gameDescription,children:t.description}),Object(g.jsx)("div",{className:ke.a.gameTags,children:c.map((function(e){return Object(g.jsx)("div",{className:ke.a.span,title:e.description,children:e.title},e._id)}))})]})]})]})})},Ce=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.user}));return Object(s.useEffect)((function(){e(M())}),[]),Object(g.jsxs)("h1",{className:je.a.userName,children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name," !"]})},Ee=n(65),Se=n.n(Ee),Te=(n(112),n(136)),Ge="GET_ALL_GAMES",Ie="GET_FAV_GAMES",Pe=function(){var e=Object(N.c)((function(e){return e.user})),t=Object(N.b)(),n=Object(N.c)((function(e){return e.games.favGames}));Object(s.useEffect)((function(){t(function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/event/fav-games",{method:"POST",headers:{"Content-type":"application/json"},mode:"cors",body:JSON.stringify(e)});case 2:return a=t.sent,t.next=5,a.json();case 5:(c=t.sent)&&n({type:Ie,payload:c.favGames});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]);return Object(g.jsx)("div",{children:Object(g.jsx)(Se.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:5},mobile:{breakpoint:{max:464,min:0},items:5}},ssr:!0,partialVisbile:!0,itemClass:"image-item",children:n.map((function(e){return Object(g.jsx)(d.b,{to:"/game/".concat(e._id),children:Object(g.jsx)(Te.a,{className:je.a.favGameImage,draggable:!1,src:e.thumbnail})},e._id)}))})})},Be=function(){var e,t=Object(N.c)((function(e){return e.user})),n=Object(N.c)((function(e){return e.user.avatar}));e="/uploads/avatar.png"===n?"".concat(n):"/uploads/".concat(n);var a=Object(u.f)();Object(s.useEffect)((function(){!t.id&&a.push("/signin")}),[]);var c=Object(s.useState)(!1),r=Object(j.a)(c,2),i=(r[0],r[1]),o=Object(s.useRef)();return U(o,(function(){return i(!1)})),Object(g.jsx)("div",{className:je.a.profile,children:Object(g.jsxs)("div",{className:je.a.header,children:[Object(g.jsxs)("div",{className:je.a.profileWrapper,children:[Object(g.jsx)(d.b,{title:"\u0414\u043e\u043c\u043e\u0439",to:"/",children:Object(g.jsx)("img",{src:"home.svg",alt:"home",className:je.a.hamburger})}),Object(g.jsx)("img",{src:e,alt:"avatar",className:je.a.avatar}),Object(g.jsx)(d.b,{to:"/edit",children:Object(g.jsx)("img",{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",src:"settings.svg",alt:"setting",className:je.a.settings})})]}),Object(g.jsx)(Ce,{}),Object(g.jsx)("div",{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.b,{to:"/events",children:Object(g.jsx)("button",{className:"btn btn-outline-info btn-lg",style:{width:"200px",padding:"6px",fontSize:"22px",marginRight:"20px",color:"white"},children:"\u041c\u043e\u0438 \u0421\u043e\u0431\u044b\u0442\u0438\u044f"})}),Object(g.jsx)(d.b,{to:"/chats",children:Object(g.jsx)("button",{className:"btn btn-outline-info btn-sm",style:{width:"200px",padding:"6px",fontSize:"22px",color:"white"},children:"\u041c\u043e\u0438 \u0427\u0430\u0442\u044b"})})]})}),Object(g.jsxs)("div",{className:je.a.bottom,children:[t.information?Object(g.jsxs)("div",{children:[" ",Object(g.jsx)("h2",{style:{color:"#fcf876",fontSize:"1.3rem"},children:"\u041b\u0438\u0447\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(g.jsxs)("p",{children:[null===t||void 0===t?void 0:t.information," "]})]}):null,t.phone?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{style:{color:"#fcf876",fontSize:"1.3rem"},children:"\u0421\u043e \u043c\u043d\u043e\u0439 \u043c\u043e\u0436\u043d\u043e \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443"}),Object(g.jsxs)("p",{children:[null===t||void 0===t?void 0:t.phone," "]})]}):null,Object(g.jsx)("br",{}),Object(g.jsx)("h1",{style:{color:"#fcf876",fontSize:"1.3rem",textShadow:"1px 1px 2px #e7e7de"},children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u0418\u0433\u0440\u044b"}),t.fav_games?Object(g.jsx)(Pe,{}):Object(g.jsx)("div",{children:"\u041f\u043e\u043a\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043b\u044e\u0431\u0438\u043c\u043e\u0439 \u0438\u0433\u0440\u044b"})]})]})})},De=n(137),Fe=n(68),Re=n(29),Me=n.n(Re),Ae=function(){var e=Object(N.b)(),t=Object(u.f)(),n=Object(N.c)((function(e){return e})).user,a=Object(N.c)((function(e){return e.user.id}));Object(s.useEffect)((function(){!a&&t.push("/signin")}),[]);var c=Object(N.c)((function(e){return e.games.games})),r=Object(N.c)((function(e){return e.games.favGames})),i=Object(s.useState)({name:n.name,info:n.information,phone:n.phone,fav_games:Array.isArray(r)&&r.length?r.map((function(e){return e._id})):[],avatar:{}}),o=Object(j.a)(i,2),l=o[0],d=o[1];Object(s.useEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/event/all-games",{method:"GET",headers:{"Content-type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:(a=e.sent)&&t({type:Ge,payload:a.games});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var b=function(e){d(Object($.a)(Object($.a)({},l),{},Object(Z.a)({},e.target.name,e.target.value)))};return Object(g.jsx)("div",{className:Me.a.formBg,children:Object(g.jsxs)("div",{className:Me.a.centering,children:[Object(g.jsx)("h1",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(g.jsxs)(De.a,{onSubmit:function(n){n.preventDefault(),e(function(e,t,n){return function(){var a=Object(p.a)(m.a.mark((function a(c){var r,s,i,o,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(i in r=new FormData,s=function(t){Array.isArray(e[t])?e[t].forEach((function(e){return r.append(t+"[]",e)})):r.append(t,e[t])},e)s(i);return r.append("userId",t),a.next=6,fetch("/edit",{method:"POST",credentials:"include",mode:"cors",body:r});case 6:return o=a.sent,a.next=9,o.json();case 9:l=a.sent,c({type:C,payload:l}),n.push("/profile");case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(l,a,t))},className:Me.a.form,children:[Object(g.jsxs)(De.a.Group,{children:[Object(g.jsx)(De.a.Label,{children:"\u0418\u043c\u044f"}),Object(g.jsx)(De.a.Control,{className:Me.a.Group,onChange:b,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u0438\u043c\u044f",name:"name",value:l.name})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(De.a.Group,{children:[Object(g.jsx)(De.a.Label,{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(g.jsx)(De.a.Control,{className:Me.a.Group,onChange:b,type:"text",placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438 \u043d\u0435\u043c\u043d\u043e\u0436\u043a\u043e \u043e \u0441\u0435\u0431\u0435",name:"info",value:l.info,style:{height:"100px"},rows:"3"})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(De.a.Group,{children:[Object(g.jsx)(De.a.Label,{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e"}),Object(g.jsx)("br",{}),Object(g.jsx)(De.a.Control,{type:"file",onChange:function(e){d((function(t){return Object($.a)(Object($.a)({},t),{},{avatar:e.target.files[0]})}))},placeholder:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e",name:"avatar"})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(De.a.Group,{children:[Object(g.jsx)(De.a.Label,{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(g.jsx)(De.a.Control,{onChange:b,className:Me.a.Group,type:"tel",placeholder:"\u0412\u0432\u0435\u0434\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438",name:"phone",value:l.phone})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(De.a.Group,{children:[Object(g.jsx)(De.a.Label,{children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u0438\u0433\u0440\u044b"}),Object(g.jsx)(Fe.Multiselect,{options:c,displayValue:"title",onSelect:function(e){d(Object($.a)(Object($.a)({},l),{},{fav_games:e.map((function(e){return e._id}))}))},selectedValues:r,style:{option:{background:"#ced4da",color:"gray"},searchBox:{display:"block",width:"100%",padding:".375rem .75rem",backgroundColor:"#fff",backgroundClip:"padding-box",border:"1px solid #ced4da"}}})]}),Object(g.jsx)("br",{}),Object(g.jsx)(Oe.a,{variant:"info",type:"submit",className:Me.a.saveBtn,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})},Le="SET_MODAL_CHAT",Ue=n(24),Je=n.n(Ue),ze=(n(119),new WebSocket("ws://0.0.0.0:1234"));var He=function(){var e=Object(N.c)((function(e){return e})),t=e.userChats,n=e.modalChat,a=e.user,c=Object(N.b)(),r=t.find((function(e){return e._id===n})),i=Object(s.useState)(""),o=Object(j.a)(i,2),d=o[0],u=o[1],b=function(e){var t=e.target;u(t.value)};ze.onopen=function(){console.log("open")};var m=function(){ze.send(JSON.stringify({mess:d,chatId:r._id,userId:a.id})),u("")};return ze.onmessage=function(e){var t=JSON.parse(e.data),n=t.newMess,a=t.chatId;c({type:G,payload:{newMess:n,chatId:a}})},l.a.createPortal(Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:Je.a.chatModule,children:r?r.messages.length?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:Je.a.chatInModule,children:r.messages.map((function(e){var t;return t="/uploads/avatar.png"===e.user_ref.avatar?"".concat(e.user_ref.avatar):"/uploads/".concat(e.user_ref.avatar),a.id===e.user_ref._id?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:Je.a.userRR,children:Object(g.jsx)("div",{className:Je.a.userRight,children:e.text},e._id)})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:Je.a.nonUserDiv,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("span",{children:Object(g.jsx)("img",{alt:"ava",src:t,className:Je.a.chatAvatar})}),"\u2002",Object(g.jsxs)("span",{className:Je.a.author,children:[e.user_ref.name,":"]})]}),e.text]},e._id)})}))}),Object(g.jsx)("div",{className:Je.a.chatInput,children:Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("input",{type:"text",className:"inp form-control",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","aria-label":"Recipient's username","aria-describedby":"basic-addon2",onChange:b,value:d}),Object(g.jsx)("div",{className:"input-group-append",children:Object(g.jsx)("button",{onClick:m,className:"btn btn-outline-info btn-lg bbbtn",type:"button",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:Je.a.chatInput,children:Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("input",{onChange:b,value:d,type:"text",className:"form-control inp",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}),Object(g.jsx)("div",{className:"input-group-append",children:Object(g.jsx)("button",{onClick:m,className:"btn btn-outline-info btn-lg bbbtn",type:"button",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})}),Object(g.jsx)("div",{children:"there are no messages here yet"})]}):Object(g.jsx)("div",{children:"select \u0421hat"})})}),document.getElementById("portal"))},We=n(40),Ve=n.n(We);n(120);var Xe=function(){var e=Object(N.c)((function(e){return e})),t=Object(N.b)(),n=Object(u.f)(),a=e.userChats.find((function(t){return t._id===e.modalChat}));return Object(s.useEffect)((function(){!e.user.id&&n.push("/signin")}),[]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:" wrapper",children:[Object(g.jsx)(d.b,{title:"\u0414\u043e\u043c\u043e\u0439",to:"/",children:Object(g.jsx)("img",{src:"home.svg",className:Ve.a.hamburger})}),Object(g.jsxs)("div",{className:Ve.a.headCont,children:[Object(g.jsx)("h4",{children:"\u0427\u0410\u0422\u042b \u0421\u041e\u0411\u042b\u0422\u0418\u0419"}),Object(g.jsx)("h3",{className:"titles",children:a&&a.eventTitle})]}),Object(g.jsx)("div",{className:Ve.a.chatsConteiner,children:e.userChats.length?Object(g.jsx)("ul",{className:"list-group",children:e.userChats.map((function(e){return Object(g.jsx)("li",{className:"list-group-item chatsss",onClick:function(){return n=e._id,void t({type:Le,payload:n});var n},children:e.eventTitle},e._id)}))}):"there are no chats here yet"}),e.userChats.length?Object(g.jsx)(He,{}):null]})})};n(121);var qe=function(){return Object(g.jsx)(d.a,{children:Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{path:"/",exact:!0,component:Y}),Object(g.jsx)(u.a,{path:"/events",exact:!0,component:_e}),Object(g.jsx)(u.a,{path:"/chats",exact:!0,component:Xe}),Object(g.jsx)(u.a,{path:"/profile",exact:!0,component:Be}),Object(g.jsx)(u.a,{path:"/edit",exact:!0,component:Ae}),Object(g.jsx)(u.a,{path:"/create-event",exact:!0,component:ne}),Object(g.jsx)(u.a,{path:"/signin",exact:!0,component:me}),Object(g.jsx)(u.a,{path:"/signup",exact:!0,component:pe}),Object(g.jsx)(u.a,{path:"/game",exact:!0,component:we}),Object(g.jsx)(u.a,{path:"/game/:id",exact:!0,component:we}),Object(g.jsx)(u.a,{path:"/map",exact:!0,component:be}),Object(g.jsx)(u.a,{exact:!0,path:"/event-page/:id",component:ye})]})})},Qe=n(27),Ke=n(69),Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;case S:return[].concat(Object(ae.a)(e),[t.payload]);case T:return[];case G:return e.map((function(e){return e._id===t.payload.chatId?Object($.a)(Object($.a)({},e),{},{messages:[].concat(Object(ae.a)(e.messages),[t.payload.newMess])}):e}));default:return e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.payload;case P:return[].concat(Object(ae.a)(e),[t.payload]);case B:return[];default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case w:return t.payload;case C:var n=t.payload,a=n.name,c=n.phone,r=n.information,s=n._id,i=n.fav_games;return console.log(i),console.log(e.fav_games),{name:a,phone:c,info:r,id:s,fav_games:i};default:return e}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object($.a)(Object($.a)({},e),{},{event:t.payload});case H:return Object($.a)(Object($.a)({},e),{},{tags:t.payload});case W:return Object($.a)(Object($.a)({},e),{},{games:t.payload});case X:return Object($.a)(Object($.a)({},e),{},{filterEvent:e.event.filter((function(e){return t.payload.includes(e.category[0])}))});case V:return Object($.a)(Object($.a)({},e),{},{event:e.event.map((function(e){return e._id===t.payload._id?Object($.a)(Object($.a)({},e),{},{participants:[].concat(Object(ae.a)(e.participants),[t.payload])}):e}))});default:return e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return t.payload;default:return e}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return t.payload;default:return e}},at={favGames:[],games:[]},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Object($.a)(Object($.a)({},e),{},{games:t.payload});case Ie:return Object($.a)(Object($.a)({},e),{},{favGames:t.payload});default:return e}},rt=Object(Qe.combineReducers)({user:$e,userEvents:Ze,userChats:Ye,events:et,currentEvent:tt,modalChat:nt,games:ct}),st=function(){var e=window.localStorage.getItem("store");return e?JSON.parse(e):{userChats:[],userEvents:[],user:{},events:{},currentEvent:{},modalChat:"",games:{favGames:[],games:[]}}}(),it=n(70),ot=Object(Qe.createStore)(rt,st,Object(Ke.composeWithDevTools)(Object(Qe.applyMiddleware)(it.a)));ot.subscribe((function(){window.localStorage.setItem("store",JSON.stringify(ot.getState()))})),l.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(N.a,{store:ot,children:Object(g.jsx)(qe,{})})}),document.getElementById("root"))},13:function(e,t,n){e.exports={eventBg:"Events_eventBg__2j3i_",centering:"Events_centering__kfICf",hamburger:"Events_hamburger__3w7JH",eventWrapper:"Events_eventWrapper__B3ygo",eventMainInfo:"Events_eventMainInfo__3QsBy",sticker:"Events_sticker__3oU2A",img:"Events_img__1a5uo",title:"Events_title__RyJkW",cardTitle:"Events_cardTitle__1DRg0",flex:"Events_flex__1LcOy",myGroup:"Events_myGroup__2TwGG",myCard:"Events_myCard__1Usqv",bodyRelative:"Events_bodyRelative__3hqfK",myCardbBody:"Events_myCardbBody__2XekZ",btn:"Events_btn__3xlbU",btnLarge:"Events_btnLarge__15SPb",eventDetails:"Events_eventDetails__2QMX4",ava:"Events_ava__1n-yw",participant:"Events_participant__3c8HJ",thumbnailPic:"Events_thumbnailPic__2wwWL"}},17:function(e,t,n){e.exports={profile:"Profile_profile__3dzvr",header:"Profile_header__23nyW",avatar:"Profile_avatar__aV4u5",settings:"Profile_settings__3_1H3",hamburger:"Profile_hamburger__JFYck",card:"Profile_card__3-Oh8",cards:"Profile_cards__3uDvy",favGameImage:"Profile_favGameImage__fFreV",formControl:"Profile_formControl__1doEO",userName:"Profile_userName__1twQ7",form:"Profile_form__1Kqct",Group:"Profile_Group__KMKBB",bottom:"Profile_bottom__3fNtP",profileWrapper:"Profile_profileWrapper__1NxMc"}},20:function(e,t,n){e.exports={bg:"Game_bg__2Ilgx",centering:"Game_centering__2NsAR",gameInfo:"Game_gameInfo__2-3UY",gameLeft:"Game_gameLeft__3l5Q8",gameRight:"Game_gameRight__1keXM",gameDetailes:"Game_gameDetailes__FLO-q",gameTags:"Game_gameTags__1t0uM",span:"Game_span__2riNr",gameLink:"Game_gameLink__JS7BE",gamePhoto:"Game_gamePhoto__2EMtm",gameDetails:"Game_gameDetails__3XrBS"}},24:function(e,t,n){e.exports={chatModule:"ModalChat_chatModule__2bBny",chatInput:"ModalChat_chatInput__3GRni",chatInModule:"ModalChat_chatInModule__1GxWU",userRight:"ModalChat_userRight__1Cysh",userRR:"ModalChat_userRR__10wzU",chatAvatar:"ModalChat_chatAvatar__3xLUw",nonUserDiv:"ModalChat_nonUserDiv__2or3H",author:"ModalChat_author__2vXCs"}},29:function(e,t,n){e.exports={formBg:"EditProfile_formBg__x1QbI",centering:"EditProfile_centering__2Egwh",saveBtn:"EditProfile_saveBtn__33sht"}},40:function(e,t,n){e.exports={headCont:"Chat_headCont__Prj7d",titles:"Chat_titles__31Ayr",chatsConteiner:"Chat_chatsConteiner__2tX1H",headConteiner:"Chat_headConteiner__3KNmn",hamburger:"Chat_hamburger__xQgn7",wrapper:"Chat_wrapper__1FBi3",Gradient:"Chat_Gradient__3c0gP"}},50:function(e,t,n){e.exports={picker:"Create-event-form_picker__14VWn","react-date-picker__wrapper":"Create-event-form_react-date-picker__wrapper__3II0k",formBg:"Create-event-form_formBg__370xq",centering:"Create-event-form_centering__2hAPC"}},55:function(e,t,n){},64:function(e,t,n){e.exports={appName:"Main_appName__2_mjy"}},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.66daca59.chunk.js.map